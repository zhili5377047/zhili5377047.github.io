<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>Document</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			html,
			body {
				width: 100%;
				height: 100%;
				font-size: 100%;
			}
			
			.wrap {
				width: 100%;
				height: 100%;
			}
			
			.header {
				width: 100%;
				height: 68px;
				background: rgb(21, 21, 21);
				/*overflow: hidden;*/
				/*min-width: 860px;*/
				position: relative;
			}
			
			.header .hidden {
				position: absolute;
				z-index: 10;
				top: 36%;
				right: 50px;
				/*display: block;*/
				display: none;
			}
			
			.header .hidden img {
				width: 22px;
			}
			
			.header .nav {
				width: 70%;
				height: 100%;
				min-width: 920px;
				margin: 0 auto;
				position: relative;
			}
			
			.header .nav .logo {
				width: 150px;
				height: 100%;
				/*display: inline-block;
 		position: relative;*/
				float: left;
				/*left:0;*/
			}
			
			.header .nav .logo img {
				padding-top: 17px;
			}
			
			.wrap .margin1 {
				position: absolute;
				width: 180px;
				height: 246px;
				z-index: 10000;
				background: black;
				opacity: 0.9;
				right: 45px;
				top: 55px;
				display: none;
			}
			
			.wrap .margin1 p {
				width: 100%;
				height: 40px;
				text-align: center;
				line-height: 40px;
				border-bottom: 1px solid gray;
			}
			
			.wrap .margin1 p a {
				display: block;
				width: 100%;
				height: 100%;
				text-decoration: none;
				color: white;
			}
			
			.header .nav .nav1 {
				width: 680px;
				height: 46px;
				float: right;
				text-align: right;
				padding-top: 24px;
				/*line-height: 68px;*/
			}
			
			.header .nav .nav1 a {
				float: left;
				margin-right: 1.8rem;
				padding: 5px 10px;
				height: 1.2rem;
				line-height: 1.2rem;
				border-radius: 8px;
				border: 1px solid rgb(21, 21, 21);
				text-decoration: none;
				color: gray;
				font-size: 1rem;
				font-weight: bold;
				outline: none;
			}
			
			.header .nav .nav1 .a:hover {
				border: 1px solid gray;
				color: white;
			}
			
			.header .nav .nav1 .home {
				border: 1px solid gray;
				color: white;
			}
			
			.content3 {
				width: 100%;
				/*height:75%;*/
				/*overflow: hidden;*/
			}
			
			.content3>div {
				width: 32%;
			}
			
			.content3 .inner {
				width: 100%;
				/*overflow: hidden;*/
				position: relative;
			}
			
			.content3 .inner img {
				display: block;
				position: absolute;
				width: 100%;
				/*overflow: hidden*/
			}
			
			.content3 .inner img:nth-of-type(1) {
				z-index: 1;
			}
			
			.content3 .inner img:nth-of-type(2) {
				z-index: 2;
			}
			
			.content3 .inner img:nth-of-type(3) {
				z-index: 3;
			}
			
			.content3 .inner .dot {
				width: 100%;
				height: 8px;
				position: absolute;
				z-index: 10;
				margin-top: 53.5%;
			}
			
			.content3 .inner .dot .count {
				width: 44px;
				height: 8px;
				margin: 0 auto;
				text-align: center;
				overflow: hidden;
			}
			
			.content3 .inner .dot .count span {
				display: block;
				float: left;
				width: 8px;
				height: 8px;
				background: gray;
				border-radius: 50%;
				cursor: pointer;
			}
			
			.content3 .inner .dot .count span:nth-of-type(2) {
				margin: 0 10px;
			}
			
			.content3 .inner .dot .count .show {
				background: rgb(198, 214, 0);
			}
			
			.content3 .above {
				position: relative;
				width: 100%;
				/*background: yellow;*/
				padding-top: 58%;
			}
			
			.container3 {
				width: 100%;
				/*height: 280%;*/
				/*height: 100%;*/
				position: relative;
			}
			
			.container3:after {
				display: block;
				content: "";
				clear: both;
			}
			
			.container3>div {
				position: absolute;
				cursor: pointer;
				width: 22.5%;
				/*transition: 1s;*/
				/*	overflow: hidden;*/
				/*overflow: hidden;*/
			}
			
			.container3>div img {
				width: 100%;
			}
			
			.container3>div ul {
				/*margin:0;
 		padding:0;*/
				width: 100%;
				height: 100%;
				top: 0;
				left: 0;
				position: absolute;
				list-style: none;
				z-index: 1000;
				background-color: rgba(0, 0, 0, 0.6);
				background-image: url(img/tomax.png);
				background-repeat: no-repeat;
				background-position: 49% 47%;
				background-size: 10%;
				display: none;
			}
			/*.container3>div:hover ul{
 		transition: 5s;
 		display: block;
 	}*/
			
			.email {
				width: 100%;
				margin-top: 50px;
			}
			
			.email a {
				display: block;
				width: 25px;
				height: 18.56px;
				margin: 0 auto;
				/*background: orange;*/
				background: url(img/share.png) 0px -37px no-repeat;
				background-size: 300% 300%;
				/*cursor: pointer;*/
			}
			
			.email a:hover {
				background-position: -26px -37px;
			}
			
			.l-mail {
				width: 100%;
				margin-top: 20px;
				transition: 0.5s;
			}
			
			.l-mail .bottom {
				width: 140px;
				padding-left: 10px;
				height: 25px;
				margin: 0 auto;
				/*background: orange;*/
			}
			
			.l-mail .bottom a {
				float: left;
				width: 25px;
				height: 25px;
				margin-right: 10px;
			}
			
			.l-mail .bottom .a1 {
				background: url(img/share.png) -2px -5px no-repeat;
				background-size: 400% 380%;
			}
			
			.l-mail .bottom .a1:hover {
				background-position: 0.5px -35px;
			}
			
			.l-mail .bottom .a2 {
				background: url(img/share.png) -27px 0px no-repeat;
			}
			
			.l-mail .bottom .a2:hover {
				background-position: -25px -25px;
			}
			
			.l-mail .bottom .a3 {
				background: url(img/share.png) -50px 0px no-repeat;
			}
			
			.l-mail .bottom .a3:hover {
				background-position: -50px -25px;
			}
			
			.l-mail .bottom .a4 {
				background: url(img/share.png) -75px 0px no-repeat;
			}
			
			.l-mail .bottom .a4:hover {
				background-position: -75px -25px;
			}
			
			.right {
				width: 100%;
				height: 12px;
				font-size: 12px;
				text-align: center;
				color: gray;
				margin-top: 32px;
				transition: 0.5s;
			}
			
			.boxing {
				width: 100%;
				height: 100%;
				position: fixed;
				background: rgba(0, 0, 0, 0.5);
				z-index: 10000;
				top: 0;
				left: 0;
				display: none;
			}
			
			.boxing img{
				position: absolute;
				left:0;
				top: 0;
				right:0;
				bottom: 0;
				margin:auto;
				z-index: 100000;;
			}
			
			/*.conquer {
				height: 650%;
			}*/
			
			@media only screen and (min-width: 960px) and (max-width:1200px) {
				/*.conquer {
					height: 400%;
				}*/
			}
			
			@media only screen and (min-width: 640px) and (max-width:960px) {
				.header {
					width: 100%;
				}
				.header .nav {
					width: 100%;
				}
				.wrap .header .hidden{
 					display: block;
 					top: 24%;
 					width:30px;
 				}
 				.wrap .header .img1{
 					width:100%;
 				}
 				.header .nav1{
 					display: none;
 				}
				/*.conquer {
					height: 350%;
				}*/
			}
			
			@media only screen and (min-width: 480px) and (max-width:640px) {
				.header .nav {
					width: 100%;
				}
				.wrap .header .hidden{
 					display: block;
 					top: 24%;
 					width:36px;
 				}
 				.wrap .header .img1{
 					width:100%;
 				}
 				.header .nav1{
 					display: none;
 				}
				.conquer {
					height: 1000%;
				}
				.container3 {
					padding-left: 2%;
				}
				.container3>div {
					width: 47%;
				}
			}
			
			@media only screen and (min-width: 320px) and (max-width:480px) {
				.header .nav {
					width: 100%;
				}
				.wrap .header .hidden{
 					display: block;
 					top: 24%;
 					width:36px;
 				}
 				.wrap .header .img1{
 					width:100%;
 				}
 				.header .nav1{
 					display: none;
 				}
				/*.conquer {
					height:7%;
				}*/
				.container3 {
					padding-left: 2%;
				}
				.container3>div {
					width: 44%;
				}
			}
		</style>
	</head>

	<body>
		<div class="wrap">
			<div class="header">
				<div class="nav">
					<div class="logo"><img src="img/logo.png" /></div>
					<div class="nav1">
						<a href="index.html" class="a">Home</a>
						<a href="index2.html" class="a">About</a>
						<a href="index3.html" class="home">Rendering</a>
						<a href="index4.html" class="a">3D Animation</a>
						<a href="index5.html" class="a">Bim</a>
						<a href="index6.html" class="a">Contact</a>
					</div>
				</div>
				<div class="hidden"><img src="img/nav.png" class="img1" /></div>
				<div class="margin1">
					<p>
						<a href="index.html">Home</a>
					</p>
					<p>
						<a href="index2.html">About</a>
					</p>
					<p>
						<a href="index3.html">Rendering</a>
					</p>
					<p>
						<a href="index4.html">3D Animation</a>
					</p>
					<p>
						<a href="index5.html">Bim</a>
					</p>
					<p>
						<a href="index6.html">Contact</a>
					</p>
				</div>
			</div>
			<div class="content3">
				<div class="inner">
					<img src="img/banner1.jpg" />
					<img src="img/banner2.jpg" />
					<img src="img/banner3.jpg" />
					<div class="dot">
						<div class="count">
							<span class="show"></span>
							<span></span>
							<span></span>
						</div>
					</div>
				</div>
				<div class="above"></div>
			</div>
			<div class="container3">

			</div>
			<!--<div class="conquer"></div>-->
			<div class="email">
				<a href="###"></a>
			</div>
			<div class="l-mail">
				<div class="bottom">
					<a href="###" class="a1"></a>
					<a href="###" class="a2"></a>
					<a href="###" class="a3"></a>
					<a href="###" class="a4"></a>
				</div>
			</div>
			<div class="right">Copyright © 1998-2015 shining Group</div>
		</div>
		<div class="boxing">
			<img src="" alt="" />
		</div>
		
	</body>
	<script type="text/javascript" src="js/jquery-3.0.0.min.js"></script>
	<script type="text/javascript"></script>
	<script type="text/javascript">
		var container = document.querySelector(".container3");
		//创建div
		var value = 0;
		createDiv(60);
		//		change(value);

		function createDiv(n) {
			for(var i = 0; i < n; i++) {
				value++;
				var oDiv = document.createElement("div");
				var oimg = new Image();
				oimg.src = "img/B" + value + ".jpg";
				container.appendChild(oDiv);
				oDiv.appendChild(oimg);
			}
			oimg.onload = function() {
				change();
				checkming();
				checkFn1();
//				make();
				
			}
		
		}

		//进行排序

		function change() {
			//			window.onload = function(){
			var winW = container.clientWidth;
			var oImg = document.querySelectorAll(".container3 img");
//			console.log(oImg[0])
				//				console.log(oImg[value].offsetWidth);
			var num = parseInt(winW / (oImg[0].offsetWidth + 10));
			//				console.log(num)
			var center = (winW - (oImg[0].offsetWidth + 10) * num) / 2;
			var aDiv = document.querySelectorAll(".container3>div");
			
			
			arrH = [];
			for(var i = 0; i < aDiv.length; i++) {
				//					aDiv[i].style.height = oImg[i].offsetHeight+"px";
				if(i < num) {
					aDiv[i].style.height = oImg[i].offsetHeight + "px";
					aDiv[i].style.left = center + (oImg[i].offsetWidth + 10) * i + "px";
					aDiv[i].style.top = 0;
					arrH[i] = oImg[i].offsetHeight + 10;
					//						console.log(aDiv[3].offsetHeight)

				} else {
					aDiv[i].style.height = oImg[i].offsetHeight + "px";
					var min = findMin(arrH);
					aDiv[i].style.left = center + min * (oImg[0].offsetWidth + 10) + "px";
					aDiv[i].style.top = arrH[min] + "px";
					arrH[min] += oImg[i].offsetHeight + 10;
				}
			}
			//			}
		}

		function findMin(arr) {
			var min = arr[0];
			var index = 0;
			for(var i = 1; i < arr.length; i++) {
				if(min > arr[i]) {
					min = arr[i];
					index = i;
				}
			}
			return index;
		}
		//预加载
//			window.onscroll=function(){
//				var sTop=document.documentElement.scrollTop||document.body.scrollTop;
//				var winH = document.documentElement.clientHeight||window.innerHeight;
//				if(sTop+winH+20>arrH[0]){
//					createDiv(5);
//					change();
//				}
//			}
		//hover事件
		var oImg1 = document.querySelectorAll("img");
		var divM = document.querySelectorAll(".container3>div");
		for(var i = 0; i < divM.length; i++) {
			var ul = document.createElement("ul");
			//			var oli = document.createElement("li");
			//			ul.appendChild(oli)
			divM[i].appendChild(ul);
		}
		$make = $(".container3>div");
		$ulm = $(".container3>div ul")

		$make.hover(function() {
			$(this).find("ul").stop().fadeIn(1000);
		}, function() {
			$(this).find("ul").stop().fadeOut(1000);
		})
		
		//大图显示函数
	function checkming(){
		var $boxingb = $(".boxing");
		var $boxImage = $(".boxing img")
		var $imaging = $(".container3>div");
		var $imagM = $(".container3>div img");
		$imaging.click(function(){
			
			var index = $(this).index();
//			var src = $(this).find("img")attr('src')
			$boxImage.attr('src',"img/B"+(parseInt(index)+1)+".jpg");
			$boxingb.css("display","block");
				$boxImage.css({
					border:"10px solid white",
					width:$imaging.find("img").width()*1.4,
				}).fadeIn();
			$boxingb.click(function(){
				$boxImage.attr('src',"");
				$boxImage.fadeOut();
				$boxingb.fadeOut(0);
			})
			 
		})
		
		
	}
		
		var divM = document.querySelectorAll(".container3>div");
		function checkFn1(){
//			var img = document.querySelectorAll(".container3>div img");
			
			var max=divM[0].offsetTop+divM[0].offsetHeight;
			var value2 = 0;
			for(var i=1;i<divM.length;i++){
				if(max<divM[i].offsetTop+divM[i].offsetHeight){
					max = divM[i].offsetTop+divM[i].offsetHeight;
					value2 = i;
				}
			}
			container.style.height = max + "px";
		}
//		function make(){
//			
//		}
//			checkFn1();
//		console.log(checkFn1());
		
		
		
		
		
		
		
		//实时监控窗口大小
		var $hide = $(".header .hidden");
		var $nav = $(".header .nav1");
		var $img = $(".header .img1");
		var $header = $(".header");
		var $logo = $(".logo img");
		var $con = $(".wrap .content ul");
		var $image = $(".wrap .content ul .image");
		var $center = $(".center");
		var $navA = $(".header .nav .nav1 a");
		//获取变换图片
		var $changeImg = $(".content3 .inner img")
		var $span = $(".dot .count span");
		var $margin = $(".wrap .margin1");
		
		//图片单击事件
		$hide.on("click", function() {
			$margin.slideToggle(500)
		})

		$(function() {
			var index = 0;
			$span.on("click", function() {
				//			clearInterval(timer)
				index = $(this).index();
				fade();
			})

			function fade() {
				$changeImg.eq(index).fadeIn(600).siblings(".content3 .inner img").fadeOut(600);
				$span.eq(index).addClass("show").siblings(".dot .count span").removeClass("show");
			}
			function fadeOutL(){
				if(index+1>3){
					index = 0;
				}
				$changeImg.eq(index+1).fadeIn(600).siblings(".content3 .inner img").fadeOut(600);
				$span.eq(index+1).addClass("show").sliblings(".content3 .inner img").removeClass("show")
			}
			function fadeOutR(){
				if(index-1<0){
					index = 3;
				}
				$changeImg.eq(index-1).fadeIn(600).siblings(".content3 .inner img").fadeOut(600);
				$span.eq(index-1).addClass("show").sliblings(".content3 .inner img").removeClass("show")
			}
			var timer = setInterval(function() {
				index++;
				if(index > 2) {
					index = 0;
				}
				fade()
			}, 4000)
			
			
			
			
			
			
			
			
		})

		//头部动画
		$navA.on("click", function() {
			var index = 0;
			index = $(this).index();
			$navA.eq(index).addClass("home").siblings().removeClass("home");

		})
		
		//图片隐藏事件

		$con.hover(function() {
			var index = $(this).index();
			$image.eq(index).fadeOut();
			$center.eq(index).css("background", "rgb(198,214,0)");
		}, function() {
			var index = $(this).index();
			$image.eq(index).fadeIn();
			$center.eq(index).css("background", "rgb(160,160,160)");
		})
		
		
		

		window.onresize = function() {
			change();
			checkFn1();
//			make();
//			resizeBannerImage();
		}
	</script>

</html>