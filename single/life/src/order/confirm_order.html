<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>确认订单</title>
	<link rel="stylesheet" href="../css/base.css">
	<link rel="stylesheet" href="../css/order/confirm_order.css">
	<script src="../js/jquery-1.10.1.min.js"></script>
</head>
<body>
	<div id="header">
		<div class="nav-wrap">
			<div class="nav clearfix">
				<div class="left">
					<span>所在城市：</span>
					<a href="./index/city.html" class="current">	<span>北京</span>
						<i class="icon"></i>
					</a>

				</div>
				<ul class="right">
					<li>
						<a href="javascript:void(0);" class="item">登录</a>
					</li>
					<li>
						<a href="javascript:void(0);" class="bor item">注册</a>
					</li>
					<li>
						<a href="javascript:void(0);" class="bor item">我的订单</a>
					</li>
					<li>
						<a href="javascript:void(0);" class="bor item">我的消息</a>
					</li>
					<li>
						<a href="javascript:void(0);" class="bor item">我是商家</a>
					</li>
					<li>
						<a href="tel:400-800-8820" class="phone item">
							<i class="icon"></i>
							400-800-8820
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div id="section">
		<div class="section-wrap">
			<div class="header clearfix">
				<div class="logo">
					<img src="../img/logo.png" alt="">
				</div>
				<div class="status clearfix">
					<span class="s">我的购物车</span>
					<i class="left-arrow"></i>
					<span class="s middle">确认订单信息</span>
					<i class="right-arrow"></i>
					<span class="s">订单提交成功</span>
				</div>
			</div>
			<div class="content">
				<div class="address-container">
					<div class="title clearfix">
						<span>收货人信息</span>
						<a href="javascript:void(0);" id="addAddress">使用新地址</a>
					</div>
					<!-- 已有地址 -->
					<div class="haveAddress">
						<ul class="address-list">
							<li class="active">
								<label>
									<input type="radio" name="addr" checked>
									<span>但小兵 北京 北京市 昌平市 天通苑明天第一城4号楼101 固定电话010-21541589</span>
									<span class="default">默认地址</span>
									<div class="btn-container">
										<a href="javascript:void(0);" class="operateBtn changeBtn">修改</a>
										<a href="javascript:void(0);" class="operateBtn delBtn">删除</a>
									</div>
								</label>
							</li>
							<li>
								<label>
									<input type="radio" name="addr">
									<span>但小兵 北京 北京市 昌平市 天通苑明天第一城4号楼101 手机15032203562</span>
									<div class="btn-container">
										<a href="javascript:void(0);" class="operateBtn setBtn">设置为默认地址</a>
										<a href="javascript:void(0);" class="operateBtn changeBtn">修改</a>
										<a href="javascript:void(0);" class="operateBtn delBtn">删除</a>
									</div>
								</label>
							</li>
							<li>
								<label>
									<input type="radio" name="addr">
									<span>但小兵 北京 北京市 昌平市 天通苑明天第一城4号楼101 手机15032203562</span>
									<div class="btn-container">
										<a href="javascript:void(0);" class="operateBtn setBtn">设置为默认地址</a>
										<a href="javascript:void(0);" class="operateBtn changeBtn">修改</a>
										<a href="javascript:void(0);" class="operateBtn delBtn">删除</a>
									</div>
								</label>
							</li>
							<li>
								<label>
									<input type="radio" name="addr">
									<span>但小兵 北京 北京市 昌平市 天通苑明天第一城4号楼101 手机15032203562</span>
									<div class="btn-container">
										<a href="javascript:void(0);" class="operateBtn setBtn">设置为默认地址</a>
										<a href="javascript:void(0);" class="operateBtn changeBtn">修改</a>
										<a href="javascript:void(0);" class="operateBtn delBtn">删除</a>
									</div>
								</label>
							</li>
							<li>
								<label>
									<input type="radio" name="addr">
									<span>但小兵 北京 北京市 昌平市 天通苑明天第一城4号楼101 手机15032203562</span>
									<div class="btn-container">
										<a href="javascript:void(0);" class="operateBtn setBtn">设置为默认地址</a>
										<a href="javascript:void(0);" class="operateBtn changeBtn">修改</a>
										<a href="javascript:void(0);" class="operateBtn delBtn">删除</a>
									</div>
								</label>
							</li>
						</ul>
						<a href="javascript:void(0);" id="toggleBtn">
							<span>展开其他地址</span>
							<i></i>
						</a>
					</div>
					
					<!-- 没有收货地址 -->
					<ul class="add-address">
						<li class="item1">
							<div class="left">
								<span>*</span>收货人姓名：
							</div>
							<div class="right">
								<input type="text">
							</div>
						</li>
						<li class="item2">
							<div class="left">
								<span>*</span>所在地区：
							</div>
							<div class="right">
								<select>
									<option value="">北京市</option>
								</select>
								<select>
									<option value="">北京市</option>
								</select>
								<select>
									<option value="">北京市</option>
								</select>
							</div>
						</li>
						<li class="item3">
							<div class="left">
								<span>*</span>详细地址：
							</div>
							<div class="right">
								<input type="text">
							</div>
						</li>
						<li class="item4">
							<div class="left">
								<span>*</span>联系电话：
							</div>
							<div class="right">
								<input type="text" class="mobile">
								或固定电话：
								<input type="text" class="pre">-<input type="text" class="pnum">
							</div>
						</li>
						<li class="item5">
							<div class="left"></div>
							<div class="right">
								<a href="javascript:void(0);" id="submitBtn">确认并设为默认地址</a>
							</div>
						</li>
					</ul>
				</div>
				<div class="goods-info">
					<div class="title">商品信息</div>
					<ul class="goods-list">
						<li class="list-header clearfix">
							<div class="col1"><input type="checkbox" class="checkInp" checked>海澜之家旗舰店</div>
							<div class="right clearfix">
								<div class="col2">规格</div>
								<div class="col3">单价</div>
								<div class="col4">数量</div>
								<div class="col5">金额</div>
								<div class="col6">操作</div>
							</div>
						</li>
						<li class="goods clearfix">
							<div class="col1">
								<input type="checkbox" class="checkInp" name="goods">
								<img src="../img/active/point_goods.png" alt="">
								<p>《寻龙诀》北京保利龙旗广场</p>
							</div>
							<div class="right clearfix">
								<div class="col2">
									<p>版本：国行 32G</p>
									<p>颜色：星钻黑</p>
								</div>
								<div class="col3">&yen;35.0</div>
								<div class="col4">1</div>
								<div class="col5">&yen;35.0</div>
								<div class="col6"><a href="javascript:void(0);" class="delBtn">删除</a></div>
							</div>
						</li>
						<li class="goods clearfix">
							<div class="col1">
								<input type="checkbox" class="checkInp" name="goods">
								<img src="../img/active/point_goods.png" alt="">
								<p>《寻龙诀》北京保利龙旗广场</p>
							</div>
							<div class="right clearfix">
								<div class="col2">
									<p>版本：国行 32G</p>
									<p>颜色：星钻黑</p>
								</div>
								<div class="col3">&yen;35.0</div>
								<div class="col4">1</div>
								<div class="col5">&yen;35.0</div>
								<div class="col6"><a href="javascript:void(0);" class="delBtn">删除</a></div>
							</div>
						</li>
						<li class="goods clearfix">
							<div class="col1">
								<input type="checkbox" class="checkInp" name="goods">
								<img src="../img/active/point_goods.png" alt="">
								<p>《寻龙诀》北京保利龙旗广场</p>
							</div>
							<div class="right clearfix">
								<div class="col2">
									<p>版本：国行 32G</p>
									<p>颜色：星钻黑</p>
								</div>
								<div class="col3">&yen;35.0</div>
								<div class="col4">1</div>
								<div class="col5">&yen;35.0</div>
								<div class="col6"><a href="javascript:void(0);" class="delBtn">删除</a></div>
							</div>
						</li>
						<li class="list-footer">
							<div>
								<a href="javascript:void(0);" class="shopBtn btn">到店消费</a>
								<a href="javascript:void(0);" class="sendBtn btn">商家配送</a>
								<div class="cost">
									<p>运费</p>
									<p class="p">&yen; 5.0</p>
								</div>
								<div class="cost">
									<p>商品金额</p>
									<p class="p">&yen; 108.0</p>
								</div>
								<div class="cost">
									<p>店铺合计</p>
									<p class="p">&yen; 113.0</p>
								</div>
							</div>
						</li>
					</ul>
					<div class="title">开票信息</div>
					<div class="ticket-info">
						<div class="ticket-select">
							<input type="radio" name="ticket"><span>不需要</span>
							<input type="radio" name="ticket"><span>个人</span>
							<input type="radio" name="ticket"><span>单位</span>
						</div>
						<div class="info">
							发票抬头：<input type="text">
							<span class="tips"><span>*</span>请填写后认真核对发票信息</span>
						</div>
					</div>
					<div class="title">添加订单备注</div>
					<div class="remark">
						<input type="text" maxlength="45" placeholder="限45个字，请填写有关商品、支付、发票等信息">
					</div>
				</div>
				<div class="sum">
					<div class="price-info">
						<p class="price">总计：<span>&yen;108.0</span></p>
						<div class="jifen">
							使用积分抵扣（您有1254积分）
							<input type="text" value="1000">
							<span>- &yen;10.00</span>
						</div>
					</div>
					<div class="final-price">
						<p class="price">总计：<span>&yen;108.0</span></p>
						<p class="jifen">订单完成后可获得积分：<span>30.9</span></p>
					</div>
					<a href="javascript:void(0);" id="submitBtn">提交订单</a>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<div class="bottom">
			<div class="copyright">
				<span>版权所有 &copy; 2016易和生活港</span>
				<span class="middle">保留所有权利</span>
				<span>沪ICP备12042163</span>
			</div>
			<div class="txt">
				<span>易和生活</span>
				<span>纵享品质</span>
			</div>
		</div>
	</div>
	<div id="mask">
		<div class="bg"></div>
		<div class="pop-box-address">
			<p class="title">收货地址</p>
			<ul>
				<li class="item1">
					<div class="left">
						<span>*</span>收货人姓名：
					</div>
					<div class="right">
						<input type="text">
					</div>
				</li>
				<li class="item2">
					<div class="left">
						<span>*</span>所在地区：
					</div>
					<div class="right">
						<select>
							<option value="">北京市</option>
						</select>
						<select>
							<option value="">北京市</option>
						</select>
						<select>
							<option value="">北京市</option>
						</select>
					</div>
				</li>
				<li class="item3">
					<div class="left">
						<span>*</span>详细地址：
					</div>
					<div class="right">
						<input type="text">
					</div>
				</li>
				<li class="item4">
					<div class="left">
						<span>*</span>联系电话：
					</div>
					<div class="right">
						<input type="text" class="mobile">
						或固定电话：
						<input type="text" class="pre">-<input type="text" class="pnum">
					</div>
				</li>
			</ul>
			<div class="set"><input type="radio" class="setAdd">设置为常用地址</div>
			<div class="btn-wrap">
				<a href="javascript:void(0);" class="return btn">返回</a>
				<a href="javascript:void(0);" class="save btn">保存</a>
			</div>
		</div>
	</div>
</body>
<script>
	$(function() {
		var $addressList = $("#section .address-list"),
			$selectAddress = $("#section .address-list li"),
			$toggleBtn = $("#toggleBtn");

		$addressList.data("h", $addressList.height());

		// 选择地址
		$selectAddress.on("change", function() {
			$(this).addClass("active").siblings().removeClass("active");
		});

		// 展开-收缩列表
		$toggleBtn.on("click" , function() {
			if($(this).hasClass("active")) {
				$(this).removeClass("active").find("span").html("展开其他地址");
				$addressList.animate({
					height: $addressList.data("h")
				}, 500);
			} else {
				$(this).addClass("active").find("span").html("收起地址");
				$addressList.animate({
					height: $addressList.data("h") * $addressList.find('li').length
				}, 500);
			}
		});

		var $addAddress = $("#addAddress"),
			$mask = $("#mask"),
			$setAdd =$("#mask .setAdd"),
			$popBox = $(".pop-box-address"),
			$return = $("#mask .return");
		$setAdd.data("bol", false);
		
		$setAdd.on("click", function() {
			var $this = $(this);
			$this.data("bol", !$this.data("bol"));
			$this.attr("checked", $this.data("bol"));
		});

		$addAddress.on("click", function() {
			$mask.show();
		});

		$mask.on("click", function() {
			$(this).hide();
		});
		$return.on("click", function() {
			$mask.hide();
		});

		$popBox.on("click", function(ev) {
			ev.stopPropagation();
		});

		var $btn = $(".goods-info .btn"),
			$delBtn = $(".goods-info .delBtn");

		// 显示按钮
		$btn.on("click", function() {
			var $goodsList = $(this).parents(".goods-list");
			$goodsList.find('.checkInp').show();
			$goodsList.find('.col6').show();
		});
		
		// 删除功能
		$delBtn.on("click", function() {
			$(this).parents(".goods").remove();
		});
	});
</script>
</html>